<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Clicker Pro - Ganar Dinero Real Jugando</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3b82f6;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --premium: #fbbf24;
            --crypto: #00d1b2;
            --dark: #1e293b;
            --darker: #0f172a;
            --light: #f1f5f9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, var(--darker), #1e1b4b);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header principal */
        .game-header {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            background: rgba(30, 41, 59, 0.9);
            padding: 20px;
            border-radius: 20px;
            border: 3px solid var(--primary);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(16, 185, 129, 0.1));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #94a3b8;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--premium);
            text-shadow: 0 0 10px currentColor;
        }
        
        .stat-subvalue {
            font-size: 0.85rem;
            color: #cbd5e1;
            margin-top: 5px;
        }
        
        /* √Årea principal del juego */
        .game-area {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 1024px) {
            .game-area {
                grid-template-columns: 1fr;
            }
        }
        
        /* Clicker principal */
        .clicker-section {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            border: 3px solid var(--warning);
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .clicker-title {
            font-size: 1.8rem;
            color: var(--warning);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .clicker-display {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), #2563eb);
            border: 8px solid var(--premium);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin: 0 auto 30px;
            transition: all 0.1s;
            user-select: none;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5),
                        inset 0 -10px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .clicker-display:active {
            transform: scale(0.95);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3),
                        inset 0 -5px 10px rgba(0, 0, 0, 0.2);
        }
        
        .clicker-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
        }
        
        .clicker-display:active::before {
            left: 100%;
        }
        
        .clicker-amount {
            font-size: 3.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }
        
        .clicker-label {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .click-per-second {
            color: var(--secondary);
            font-weight: bold;
            margin-top: 10px;
        }
        
        .clicker-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        .clicker-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
        }
        
        /* Generadores */
        .generators-section {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 25px;
            padding: 30px;
            border: 3px solid var(--secondary);
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 1.6rem;
            color: var(--secondary);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .generator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }
        
        .generator-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(30, 41, 59, 0.8));
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(16, 185, 129, 0.3);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .generator-card:hover {
            transform: translateY(-8px);
            border-color: var(--secondary);
            box-shadow: 0 15px 30px rgba(16, 185, 129, 0.2);
        }
        
        .generator-card.disabled {
            opacity: 0.5;
            filter: grayscale(0.5);
            cursor: not-allowed;
        }
        
        .generator-card.disabled:hover {
            transform: none;
            border-color: rgba(16, 185, 129, 0.3);
            box-shadow: none;
        }
        
        .generator-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .generator-icon {
            font-size: 3rem;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), #059669);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .generator-info {
            flex: 1;
        }
        
        .generator-name {
            font-size: 1.4rem;
            font-weight: bold;
            color: white;
            margin-bottom: 5px;
        }
        
        .generator-level {
            color: #94a3b8;
            font-size: 0.9rem;
        }
        
        .generator-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .generator-production {
            color: var(--secondary);
            font-weight: bold;
        }
        
        .generator-cost {
            color: var(--premium);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .generator-progress {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .generator-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), #34d399);
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Tienda de gemas */
        .gem-store {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(30, 41, 59, 0.9));
            border-radius: 25px;
            padding: 30px;
            border: 3px solid var(--premium);
            margin-bottom: 30px;
        }
        
        .gem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .gem-card {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.1));
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 2px solid var(--premium);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .gem-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(251, 191, 36, 0.3);
        }
        
        .gem-icon {
            font-size: 3.5rem;
            color: var(--premium);
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(251, 191, 36, 0.5));
        }
        
        .gem-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: white;
            margin-bottom: 10px;
        }
        
        .gem-price {
            font-size: 1.8rem;
            color: var(--premium);
            font-weight: bold;
            margin: 15px 0;
        }
        
        /* Mejoras con gemas */
        .upgrades-section {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(30, 41, 59, 0.9));
            border-radius: 25px;
            padding: 30px;
            border: 3px solid var(--primary);
            margin-bottom: 30px;
        }
        
        .upgrade-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            overflow-x: auto;
        }
        
        .upgrade-tab {
            padding: 12px 24px;
            background: rgba(59, 130, 246, 0.2);
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
        }
        
        .upgrade-tab.active {
            background: var(--primary);
            font-weight: bold;
        }
        
        .upgrade-content {
            display: none;
        }
        
        .upgrade-content.active {
            display: block;
        }
        
        .upgrade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .upgrade-item {
            background: rgba(59, 130, 246, 0.1);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(59, 130, 246, 0.3);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .upgrade-item:hover:not(.disabled):not(.purchased) {
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        
        .upgrade-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .upgrade-item.purchased {
            border-color: var(--secondary);
            background: rgba(16, 185, 129, 0.1);
        }
        
        /* Criptomonedas y retiros */
        .crypto-section {
            background: linear-gradient(135deg, rgba(0, 209, 178, 0.1), rgba(30, 41, 59, 0.9));
            border-radius: 25px;
            padding: 30px;
            border: 3px solid var(--crypto);
            margin-bottom: 30px;
        }
        
        .crypto-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .withdrawal-box {
            background: rgba(0, 209, 178, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
            border: 2px solid var(--crypto);
        }
        
        /* Botones */
        .btn {
            padding: 15px 30px;
            border-radius: 12px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), #2563eb);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--secondary), #059669);
            color: white;
        }
        
        .btn-success:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }
        
        .btn-warning:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.4);
        }
        
        .btn-premium {
            background: linear-gradient(135deg, var(--premium), #f59e0b);
            color: #1e293b;
            font-weight: bold;
        }
        
        .btn-premium:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.4);
        }
        
        .btn-crypto {
            background: linear-gradient(135deg, var(--crypto), #00b89c);
            color: white;
        }
        
        .btn-crypto:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 209, 178, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Notificaciones */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 1001;
            display: none;
            animation: slideIn 0.3s;
            color: white;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 300px;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.success { background: var(--secondary); }
        .notification.error { background: var(--danger); }
        .notification.warning { background: var(--warning); }
        .notification.info { background: var(--primary); }
        .notification.premium { background: var(--premium); color: #1e293b; }
        .notification.crypto { background: var(--crypto); }
        
        /* Animaciones */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .game-header {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .clicker-display {
                width: 250px;
                height: 250px;
            }
            
            .clicker-amount {
                font-size: 2.8rem;
            }
            
            .generator-grid,
            .gem-grid,
            .upgrade-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Efectos de part√≠culas */
        .click-particle {
            position: absolute;
            pointer-events: none;
            border-radius: 50%;
            background: var(--premium);
            opacity: 0;
            z-index: 1;
            transform-origin: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header con estad√≠sticas -->
        <div class="game-header">
            <div class="stat-card">
                <div class="stat-label">üí∞ Dinero del Juego</div>
                <div class="stat-value" id="gameMoney">0</div>
                <div class="stat-subvalue" id="moneyPerSecond">+0/s</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">‚Çø Criptomonedas</div>
                <div class="stat-value crypto" id="cryptoBalance">0.000000</div>
                <div class="stat-subvalue">‚âà $<span id="cryptoUSD">0.00</span></div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">üíé Gemas</div>
                <div class="stat-value" id="gems">0</div>
                <div class="stat-subvalue">Moneda Premium</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">‚ö° Poder de Click</div>
                <div class="stat-value" id="clickPower">1</div>
                <div class="stat-subvalue">Nivel <span id="clickLevel">1</span></div>
            </div>
        </div>
        
        <!-- √Årea principal del juego -->
        <div class="game-area">
            <!-- Clicker principal -->
            <div class="clicker-section">
                <h2 class="clicker-title">
                    <i class="fas fa-hand-pointer"></i> CLICKER PRINCIPAL
                </h2>
                
                <div class="clicker-display" id="clickerButton">
                    <div class="clicker-amount" id="clickAmount">+1</div>
                    <div class="clicker-label">por Click</div>
                    <div class="click-per-second" id="clickPerSecond">0 CPS</div>
                </div>
                
                <div class="clicker-stats">
                    <div class="clicker-stat">
                        <div style="color: #94a3b8; font-size: 0.9rem;">Total Clicks</div>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--warning);" id="totalClicks">0</div>
                    </div>
                    <div class="clicker-stat">
                        <div style="color: #94a3b8; font-size: 0.9rem;">CPS Manual</div>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--warning);" id="manualCPS">0</div>
                    </div>
                </div>
                
                <button class="btn btn-warning" id="upgradeClicker" style="width: 100%; padding: 18px;">
                    <i class="fas fa-arrow-up"></i>
                    Mejorar Click (<span id="clickUpgradeCost">50</span>)
                </button>
                
                <div style="margin-top: 25px;">
                    <div style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 10px;">Nivel Actual</div>
                    <div style="height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow: hidden;">
                        <div style="height: 100%; background: linear-gradient(90deg, var(--warning), #f59e0b); width: 0%;" id="levelProgressBar"></div>
                    </div>
                    <div style="color: #cbd5e1; font-size: 0.9rem; margin-top: 8px;" id="levelText">Nivel 1 - 0/100 XP</div>
                </div>
            </div>
            
            <!-- Contenido principal -->
            <div>
                <!-- Generadores -->
                <div class="generators-section">
                    <h2 class="section-title">
                        <i class="fas fa-industry"></i> GENERADORES AUTOM√ÅTICOS
                    </h2>
                    <p style="color: #94a3b8; margin-bottom: 25px;">
                        Compra generadores que producen dinero autom√°ticamente. 
                        Mej√≥ralos para aumentar su producci√≥n.
                    </p>
                    
                    <div class="generator-grid" id="generatorsGrid">
                        <!-- Los generadores se cargar√°n aqu√≠ -->
                    </div>
                </div>
                
                <!-- Tienda de gemas -->
                <div class="gem-store">
                    <h2 class="section-title" style="color: var(--premium);">
                        <i class="fas fa-gem"></i> TIENDA DE GEMAS
                    </h2>
                    <p style="color: #94a3b8; margin-bottom: 25px;">
                        Compra gemas para desbloquear mejoras especiales y aumentar tus ganancias.
                        Las gemas ayudan a mantener el fondo de recompensas.
                    </p>
                    
                    <div class="gem-grid" id="gemStoreGrid">
                        <!-- Las ofertas de gemas se cargar√°n aqu√≠ -->
                    </div>
                </div>
                
                <!-- Mejoras con gemas -->
                <div class="upgrades-section">
                    <h2 class="section-title" style="color: var(--primary);">
                        <i class="fas fa-arrow-up"></i> MEJORAS CON GEMAS
                    </h2>
                    
                    <div class="upgrade-tabs">
                        <div class="upgrade-tab active" data-tab="multipliers">‚ú® Multiplicadores</div>
                        <div class="upgrade-tab" data-tab="generators">üè≠ Generadores</div>
                        <div class="upgrade-tab" data-tab="special">üéÅ Especiales</div>
                    </div>
                    
                    <div class="upgrade-content active" id="tab-multipliers">
                        <div class="upgrade-grid" id="multiplierUpgrades">
                            <!-- Mejoras de multiplicadores -->
                        </div>
                    </div>
                    
                    <div class="upgrade-content" id="tab-generators">
                        <div class="upgrade-grid" id="generatorUpgrades">
                            <!-- Mejoras de generadores -->
                        </div>
                    </div>
                    
                    <div class="upgrade-content" id="tab-special">
                        <div class="upgrade-grid" id="specialUpgrades">
                            <!-- Mejoras especiales -->
                        </div>
                    </div>
                </div>
                
                <!-- Criptomonedas y retiros -->
                <div class="crypto-section">
                    <h2 class="section-title" style="color: var(--crypto);">
                        <i class="fas fa-coins"></i> GANAR CRIPTOMONEDAS REALES
                    </h2>
                    
                    <div class="crypto-stats">
                        <div style="text-align: center;">
                            <div style="color: #94a3b8; font-size: 0.9rem;">Ganado Hoy</div>
                            <div style="font-size: 1.8rem; color: var(--crypto); font-weight: bold;" id="earnedToday">0.000000</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">BTC</div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div style="color: #94a3b8; font-size: 0.9rem;">Total Ganado</div>
                            <div style="font-size: 1.8rem; color: var(--crypto); font-weight: bold;" id="totalEarned">0.000000</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">BTC</div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div style="color: #94a3b8; font-size: 0.9rem;">Pr√≥ximo Retiro</div>
                            <div style="font-size: 1.8rem; color: var(--crypto); font-weight: bold;" id="nextWithdrawal">0.000100</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">BTC necesarios</div>
                        </div>
                    </div>
                    
                    <div class="withdrawal-box">
                        <h3 style="color: white; margin-bottom: 15px;">üí≥ Retirar Fondos</h3>
                        <p style="color: #94a3b8; margin-bottom: 20px;">
                            M√≠nimo para retirar: 0.0001 BTC (~$4.50 USD)<br>
                            Comisi√≥n del sistema: 15%
                        </p>
                        
                        <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                            <input type="text" id="walletAddress" placeholder="Direcci√≥n de Bitcoin" style="flex: 1; padding: 15px; border-radius: 10px; border: 2px solid var(--crypto); background: rgba(0,0,0,0.3); color: white; font-size: 1rem;">
                            <button class="btn btn-crypto" id="withdrawButton" disabled>
                                <i class="fas fa-paper-plane"></i> RETIRAR
                            </button>
                        </div>
                        
                        <p style="color: #94a3b8; font-size: 0.9rem;">
                            <i class="fas fa-info-circle"></i> Los retiros se procesan cada 24 horas. La comisi√≥n del 15% mantiene el sistema sostenible.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notificaci√≥n -->
    <div class="notification" id="notification"></div>

    <script>
        // ============================
        // CONFIGURACI√ìN DEL JUEGO
        // ============================
        const gameConfig = {
            // Sistema de criptomonedas
            btcPrice: 45000, // Precio de BTC en USD
            minWithdrawal: 0.0001, // M√≠nimo para retirar (‚âà $4.50 USD)
            withdrawalFee: 0.15, // 15% comisi√≥n
            
            // Tasas de conversi√≥n
            moneyToCrypto: 0.000000001, // 1,000,000,000 dinero = 0.001 BTC
            clickToCrypto: 0.0000000001, // 10,000,000 clicks = 0.001 BTC
            
            // Sistema de niveles
            levelMultiplier: 1.2,
            
            // Precios de gemas (en USD)
            gemPrices: {
                small: 0.99,
                medium: 2.99,
                large: 4.99,
                premium: 9.99
            },
            
            // Distribuci√≥n de ingresos
            revenueDistribution: {
                rewardFund: 0.60, // 60% al fondo
                developer: 0.40   // 40% para ti
            }
        };

        // ============================
        // ESTADO DEL JUEGO
        // ============================
        const gameState = {
            // Recursos del jugador
            money: 0,
            crypto: 0,
            gems: 0,
            
            // Estad√≠sticas
            clicks: 0,
            clickPower: 1,
            clickLevel: 1,
            totalMoney: 0,
            totalCrypto: 0,
            
            // Progresi√≥n
            level: 1,
            xp: 0,
            totalXp: 0,
            
            // Generadores
            generators: [
                {
                    id: 1,
                    name: "Miner√≠a B√°sica",
                    icon: "‚õèÔ∏è",
                    level: 0,
                    baseCost: 25,
                    baseProduction: 0.1,
                    description: "Extrae recursos b√°sicos autom√°ticamente"
                },
                {
                    id: 2,
                    name: "Granja Automatizada",
                    icon: "üåæ",
                    level: 0,
                    baseCost: 100,
                    baseProduction: 0.5,
                    description: "Produce alimentos de forma automatizada"
                },
                {
                    id: 3,
                    name: "F√°brica de Robots",
                    icon: "ü§ñ",
                    level: 0,
                    baseCost: 500,
                    baseProduction: 2,
                    description: "Fabrica robots trabajadores"
                },
                {
                    id: 4,
                    name: "Planta de Energ√≠a",
                    icon: "‚ö°",
                    level: 0,
                    baseCost: 2500,
                    baseProduction: 10,
                    description: "Genera energ√≠a para todo el sistema"
                },
                {
                    id: 5,
                    name: "Centro de Investigaci√≥n",
                    icon: "üî¨",
                    level: 0,
                    baseCost: 10000,
                    baseProduction: 50,
                    description: "Investiga nuevas tecnolog√≠as"
                },
                {
                    id: 6,
                    name: "Colonia Espacial",
                    icon: "üöÄ",
                    level: 0,
                    baseCost: 50000,
                    baseProduction: 200,
                    description: "Expansi√≥n interplanetaria"
                }
            ],
            
            // Mejoras con gemas
            upgrades: {
                multipliers: [],
                generators: [],
                special: []
            },
            
            // Tienda de gemas
            gemStore: [
                {
                    id: "gems_small",
                    name: "Paquete Peque√±o",
                    icon: "üíé",
                    gems: 50,
                    priceUSD: 0.99,
                    bonus: "+5% multiplicador por 24h"
                },
                {
                    id: "gems_medium",
                    name: "Paquete Medio",
                    icon: "üíéüíé",
                    gems: 150,
                    priceUSD: 2.99,
                    bonus: "+10% multiplicador permanente"
                },
                {
                    id: "gems_large",
                    name: "Paquete Grande",
                    icon: "üíéüíéüíé",
                    gems: 500,
                    priceUSD: 4.99,
                    bonus: "+25% multiplicador por 7 d√≠as"
                },
                {
                    id: "gems_premium",
                    name: "Paquete Premium",
                    icon: "üëë",
                    gems: 1200,
                    priceUSD: 9.99,
                    bonus: "+50% multiplicador permanente"
                }
            ],
            
            // Historial
            earnedToday: 0,
            totalEarned: 0,
            walletAddress: "",
            withdrawalHistory: []
        };

        // ============================
        // INICIALIZACI√ìN
        // ============================
        function initGame() {
            loadGame();
            setupGenerators();
            setupGemStore();
            setupUpgrades();
            updateUI();
            setupEventListeners();
            startGameLoop();
            
            showNotification("¬°Bienvenido a Crypto Clicker Pro! Haz clic para empezar.", "info");
        }

        // ============================
        // SETUP DEL JUEGO
        // ============================
        function setupGenerators() {
            const generatorsGrid = document.getElementById("generatorsGrid");
            generatorsGrid.innerHTML = "";
            
            gameState.generators.forEach(generator => {
                const cost = Math.floor(generator.baseCost * Math.pow(1.5, generator.level));
                const production = generator.baseProduction * generator.level;
                
                const generatorCard = document.createElement("div");
                generatorCard.className = `generator-card ${gameState.money >= cost ? "" : "disabled"}`;
                generatorCard.id = `generator-${generator.id}`;
                
                generatorCard.innerHTML = `
                    <div class="generator-header">
                        <div class="generator-icon">${generator.icon}</div>
                        <div class="generator-info">
                            <div class="generator-name">${generator.name}</div>
                            <div class="generator-level">Nivel ${generator.level}</div>
                        </div>
                    </div>
                    
                    <div class="generator-stats">
                        <div class="generator-production">${production.toFixed(1)}/s</div>
                        <div class="generator-cost">${formatNumber(cost)}</div>
                    </div>
                    
                    <div style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 15px;">
                        ${generator.description}
                    </div>
                    
                    <div class="generator-progress">
                        <div class="generator-progress-bar" style="width: ${Math.min((generator.level / 20) * 100, 100)}%"></div>
                    </div>
                    
                    <button class="btn btn-success" style="width: 100%; padding: 12px;">
                        ${generator.level === 0 ? "COMPRAR" : "MEJORAR"}
                    </button>
                `;
                
                const buyButton = generatorCard.querySelector("button");
                buyButton.addEventListener("click", (e) => {
                    e.stopPropagation();
                    buyGenerator(generator.id);
                });
                
                generatorsGrid.appendChild(generatorCard);
            });
        }

        function setupGemStore() {
            const gemStoreGrid = document.getElementById("gemStoreGrid");
            gemStoreGrid.innerHTML = "";
            
            gameState.gemStore.forEach(pack => {
                const gemCard = document.createElement("div");
                gemCard.className = "gem-card";
                gemCard.id = pack.id;
                
                gemCard.innerHTML = `
                    <div class="gem-icon">${pack.icon}</div>
                    <div class="gem-name">${pack.name}</div>
                    <div style="color: #cbd5e1; margin-bottom: 20px; min-height: 60px;">
                        ${pack.bonus}
                    </div>
                    <div class="gem-price">$${pack.priceUSD.toFixed(2)} USD</div>
                    <button class="btn btn-premium" style="width: 100%; padding: 12px;">
                        COMPRAR - ${pack.gems} üíé
                    </button>
                `;
                
                const buyButton = gemCard.querySelector("button");
                buyButton.addEventListener("click", (e) => {
                    e.stopPropagation();
                    buyGems(pack.id);
                });
                
                gemStoreGrid.appendChild(gemCard);
            });
        }

        function setupUpgrades() {
            // Mejoras de multiplicadores
            const multiplierUpgrades = [
                {
                    id: "mult_click_1",
                    name: "Click Mejorado I",
                    description: "Aumenta el poder de click en un 25%",
                    icon: "üëÜ",
                    cost: 100,
                    effect: { type: "click", value: 0.25 }
                },
                {
                    id: "mult_click_2",
                    name: "Click Mejorado II",
                    description: "Aumenta el poder de click en un 50%",
                    icon: "üëÜüëÜ",
                    cost: 250,
                    effect: { type: "click", value: 0.50 }
                },
                {
                    id: "mult_gen_1",
                    name: "Generadores Mejorados I",
                    description: "Aumenta la producci√≥n de generadores en un 20%",
                    icon: "‚öôÔ∏è",
                    cost: 150,
                    effect: { type: "generator", value: 0.20 }
                },
                {
                    id: "mult_gen_2",
                    name: "Generadores Mejorados II",
                    description: "Aumenta la producci√≥n de generadores en un 40%",
                    icon: "‚öôÔ∏è‚öôÔ∏è",
                    cost: 350,
                    effect: { type: "generator", value: 0.40 }
                }
            ];
            
            // Cargar mejoras
            loadUpgradeCategory("multiplier", multiplierUpgrades);
        }

        function loadUpgradeCategory(category, upgrades) {
            const container = document.getElementById(`${category}Upgrades`);
            if (!container) return;
            
            container.innerHTML = "";
            
            upgrades.forEach(upgrade => {
                const upgradeItem = document.createElement("div");
                upgradeItem.className = "upgrade-item";
                upgradeItem.id = `upgrade-${upgrade.id}`;
                
                upgradeItem.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <div style="font-size: 2rem;">${upgrade.icon}</div>
                        <div style="flex: 1;">
                            <div style="font-weight: bold; color: white; font-size: 1.2rem;">${upgrade.name}</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">${upgrade.description}</div>
                        </div>
                    </div>
                    <div style="color: var(--premium); font-weight: bold; font-size: 1.2rem; margin: 15px 0;">
                        ${upgrade.cost} üíé
                    </div>
                    <button class="btn btn-primary" style="width: 100%; padding: 12px;">
                        COMPRAR MEJORA
                    </button>
                `;
                
                const buyButton = upgradeItem.querySelector("button");
                buyButton.addEventListener("click", (e) => {
                    e.stopPropagation();
                    buyUpgrade(upgrade.id, category, upgrade);
                });
                
                container.appendChild(upgradeItem);
            });
        }

        // ============================
        // MEC√ÅNICAS DEL JUEGO
        // ============================
        function handleClick() {
            // Calcular ganancia por click
            const clickValue = gameState.clickPower;
            gameState.money += clickValue;
            gameState.totalMoney += clickValue;
            gameState.clicks++;
            
            // Ganar XP
            gameState.xp += 1;
            gameState.totalXp += 1;
            
            // Actualizar nivel
            updateLevel();
            
            // Crear efecto visual
            createClickParticle(event.clientX, event.clientY, clickValue);
            
            // Actualizar UI
            updateUI();
            updateGeneratorsDisplay();
            
            // Actualizar estad√≠sticas de click
            updateClickStats();
        }

        function buyGenerator(generatorId) {
            const generator = gameState.generators.find(g => g.id === generatorId);
            const cost = Math.floor(generator.baseCost * Math.pow(1.5, generator.level));
            
            if (gameState.money >= cost) {
                gameState.money -= cost;
                generator.level++;
                
                // Ganar XP por comprar generador
                gameState.xp += 10;
                gameState.totalXp += 10;
                
                updateLevel();
                updateUI();
                setupGenerators();
                
                showNotification(`¬°${generator.name} mejorado a nivel ${generator.level}!`, "success");
            }
        }

        function upgradeClicker() {
            const cost = Math.floor(50 * Math.pow(1.8, gameState.clickLevel - 1));
            
            if (gameState.money >= cost) {
                gameState.money -= cost;
                gameState.clickPower = Math.floor(gameState.clickPower * 1.5);
                gameState.clickLevel++;
                gameState.xp += 20;
                gameState.totalXp += 20;
                
                updateLevel();
                updateUI();
                
                showNotification(`¬°Click mejorado a nivel ${gameState.clickLevel}! (+${gameState.clickPower} por click)`, "success");
            }
        }

        function buyGems(packId) {
            const pack = gameState.gemStore.find(p => p.id === packId);
            
            if (!pack) return;
            
            // En un juego real, aqu√≠ ir√≠a la integraci√≥n con Stripe/PayPal
            if (confirm(`¬øComprar ${pack.name} por $${pack.priceUSD.toFixed(2)} USD?\n\nRecibir√°s ${pack.gems} gemas.`)) {
                gameState.gems += pack.gems;
                
                // Aplicar bonus seg√∫n el paquete
                applyGemBonus(pack);
                
                updateUI();
                showNotification(`¬°${pack.gems} gemas a√±adidas a tu cuenta!`, "premium");
            }
        }

        function applyGemBonus(pack) {
            switch(pack.id) {
                case "gems_small":
                    // +5% por 24h (simulado con un boost temporal)
                    break;
                case "gems_medium":
                    gameState.clickPower = Math.floor(gameState.clickPower * 1.1);
                    break;
                case "gems_large":
                    // +25% por 7 d√≠as
                    gameState.clickPower = Math.floor(gameState.clickPower * 1.25);
                    break;
                case "gems_premium":
                    gameState.clickPower = Math.floor(gameState.clickPower * 1.5);
                    // Tambi√©n dar un generador gratis
                    if (gameState.generators.length > 0) {
                        gameState.generators[0].level++;
                    }
                    break;
            }
        }

        function buyUpgrade(upgradeId, category, upgrade) {
            if (gameState.gems >= upgrade.cost) {
                gameState.gems -= upgrade.cost;
                
                // Aplicar efecto de la mejora
                applyUpgradeEffect(upgrade.effect);
                
                // Marcar como comprada
                const upgradeItem = document.getElementById(`upgrade-${upgradeId}`);
                upgradeItem.classList.add("purchased");
                upgradeItem.querySelector("button").disabled = true;
                upgradeItem.querySelector("button").textContent = "‚úÖ COMPRADO";
                
                updateUI();
                showNotification(`¬°${upgrade.name} comprada!`, "success");
            } else {
                showNotification("No tienes suficientes gemas", "error");
            }
        }

        function applyUpgradeEffect(effect) {
            switch(effect.type) {
                case "click":
                    gameState.clickPower = Math.floor(gameState.clickPower * (1 + effect.value));
                    break;
                case "generator":
                    // Aplicar multiplicador a todos los generadores
                    gameState.generators.forEach(gen => {
                        gen.baseProduction *= (1 + effect.value);
                    });
                    break;
            }
        }

        function withdrawFunds() {
            const wallet = document.getElementById("walletAddress").value.trim();
            const cryptoAmount = gameState.crypto;
            const usdAmount = cryptoAmount * gameConfig.btcPrice;
            const minWithdrawalUSD = gameConfig.minWithdrawal * gameConfig.btcPrice;
            
            if (!wallet) {
                showNotification("Ingresa una direcci√≥n de wallet v√°lida", "error");
                return;
            }
            
            if (usdAmount < minWithdrawalUSD) {
                showNotification(`M√≠nimo para retirar: $${minWithdrawalUSD.toFixed(2)} USD (${gameConfig.minWithdrawal} BTC)`, "error");
                return;
            }
            
            if (confirm(`¬øRetirar ${cryptoAmount.toFixed(6)} BTC ($${usdAmount.toFixed(2)} USD)?\n\nComisi√≥n (15%): ${(cryptoAmount * gameConfig.withdrawalFee).toFixed(6)} BTC\nRecibir√°s: ${(cryptoAmount * (1 - gameConfig.withdrawalFee)).toFixed(6)} BTC`)) {
                // Registrar retiro
                gameState.walletAddress = wallet;
                gameState.withdrawalHistory.push({
                    date: new Date().toISOString(),
                    amount: cryptoAmount,
                    fee: cryptoAmount * gameConfig.withdrawalFee,
                    netAmount: cryptoAmount * (1 - gameConfig.withdrawalFee),
                    address: wallet,
                    status: "pending"
                });
                
                // Resetear balance
                gameState.crypto = 0;
                gameState.earnedToday = 0;
                
                updateUI();
                showNotification(`¬°Retiro procesado! Recibir√°s ${(cryptoAmount * (1 - gameConfig.withdrawalFee)).toFixed(6)} BTC en 24-48 horas.`, "crypto");
            }
        }

        // ============================
        // BUCLE DEL JUEGO
        // ============================
        function startGameLoop() {
            setInterval(() => {
                // Calcular producci√≥n total de generadores
                let totalProduction = 0;
                gameState.generators.forEach(gen => {
                    if (gen.level > 0) {
                        totalProduction += gen.baseProduction * gen.level;
                    }
                });
                
                // A√±adir producci√≥n al dinero
                gameState.money += totalProduction / 10; // Dividido por 10 para actualizar 10 veces por segundo
                gameState.totalMoney += totalProduction / 10;
                
                // Ganar XP por producci√≥n
                gameState.xp += totalProduction / 100;
                gameState.totalXp += totalProduction / 100;
                
                // Actualizar nivel
                updateLevel();
                
                // Convertir dinero a criptomonedas
                updateCryptoEarnings();
                
                // Actualizar UI
                updateUI();
                updateGeneratorsDisplay();
                
            }, 100); // Actualizar 10 veces por segundo
        }

        function updateLevel() {
            const xpNeeded = Math.floor(100 * Math.pow(gameConfig.levelMultiplier, gameState.level - 1));
            
            if (gameState.xp >= xpNeeded) {
                gameState.level++;
                gameState.xp = 0;
                
                // Recompensa por subir de nivel
                gameState.gems += gameState.level * 5;
                gameState.clickPower = Math.floor(gameState.clickPower * 1.1);
                
                showNotification(`¬°Nivel ${gameState.level} alcanzado! +${gameState.level * 5} gemas`, "info");
            }
            
            // Actualizar barra de progreso
            const nextXpNeeded = Math.floor(100 * Math.pow(gameConfig.levelMultiplier, gameState.level - 1));
            const progressPercent = Math.min((gameState.xp / nextXpNeeded) * 100, 100);
            
            document.getElementById("levelProgressBar").style.width = `${progressPercent}%`;
            document.getElementById("levelText").textContent = `Nivel ${gameState.level} - ${Math.floor(gameState.xp)}/${nextXpNeeded} XP`;
        }

        function updateCryptoEarnings() {
            // Calcular ganancias de criptomonedas
            const moneyEarned = gameConfig.moneyToCrypto * (gameState.totalMoney / 1000000);
            const clicksEarned = gameConfig.clickToCrypto * (gameState.clicks / 10000);
            
            const totalCrypto = moneyEarned + clicksEarned;
            
            // Aplicar bonus por nivel
            const levelBonus = 1 + (gameState.level * 0.01);
            
            gameState.crypto = totalCrypto * levelBonus;
            gameState.totalCrypto = totalCrypto * levelBonus;
            gameState.earnedToday = totalCrypto * levelBonus;
            gameState.totalEarned = totalCrypto * levelBonus;
        }

        // ============================
        // ACTUALIZACI√ìN DE UI
        // ============================
        function updateUI() {
            // Dinero del juego
            document.getElementById("gameMoney").textContent = formatNumber(gameState.money);
            
            // Criptomonedas
            document.getElementById("cryptoBalance").textContent = gameState.crypto.toFixed(6);
            document.getElementById("cryptoUSD").textContent = (gameState.crypto * gameConfig.btcPrice).toFixed(2);
            document.getElementById("earnedToday").textContent = gameState.earnedToday.toFixed(6);
            document.getElementById("totalEarned").textContent = gameState.totalEarned.toFixed(6);
            
            // Gemas
            document.getElementById("gems").textContent = gameState.gems;
            
            // Poder de click
            document.getElementById("clickPower").textContent = gameState.clickPower;
            document.getElementById("clickLevel").textContent = gameState.clickLevel;
            document.getElementById("clickAmount").textContent = `+${gameState.clickPower}`;
            document.getElementById("clickUpgradeCost").textContent = formatNumber(Math.floor(50 * Math.pow(1.8, gameState.clickLevel - 1)));
            
            // Estad√≠sticas
            document.getElementById("totalClicks").textContent = formatNumber(gameState.clicks);
            
            // Pr√≥ximo retiro
            const remaining = Math.max(0, gameConfig.minWithdrawal - gameState.crypto);
            document.getElementById("nextWithdrawal").textContent = remaining.toFixed(6);
            
            // Habilitar/deshabilitar botones
            const withdrawButton = document.getElementById("withdrawButton");
            const canWithdraw = (gameState.crypto * gameConfig.btcPrice) >= (gameConfig.minWithdrawal * gameConfig.btcPrice);
            withdrawButton.disabled = !canWithdraw;
            
            // Actualizar producci√≥n por segundo
            updateMoneyPerSecond();
        }

        function updateMoneyPerSecond() {
            let totalProduction = 0;
            gameState.generators.forEach(gen => {
                if (gen.level > 0) {
                    totalProduction += gen.baseProduction * gen.level;
                }
            });
            
            document.getElementById("moneyPerSecond").textContent = `+${formatNumber(totalProduction)}/s`;
        }

        function updateClickStats() {
            // Calcular CPS manual (clicks en los √∫ltimos 5 segundos)
            // Esto es simulado para este ejemplo
            const estimatedCPS = gameState.clickPower * 5;
            document.getElementById("manualCPS").textContent = formatNumber(estimatedCPS);
            document.getElementById("clickPerSecond").textContent = `${estimatedCPS} CPS`;
        }

        function updateGeneratorsDisplay() {
            gameState.generators.forEach(generator => {
                const cost = Math.floor(generator.baseCost * Math.pow(1.5, generator.level));
                const generatorCard = document.getElementById(`generator-${generator.id}`);
                
                if (generatorCard) {
                    const buyButton = generatorCard.querySelector("button");
                    const costElement = generatorCard.querySelector(".generator-cost");
                    const productionElement = generatorCard.querySelector(".generator-production");
                    
                    if (costElement) {
                        costElement.textContent = formatNumber(cost);
                    }
                    
                    if (productionElement) {
                        const production = generator.baseProduction * generator.level;
                        productionElement.textContent = `${production.toFixed(1)}/s`;
                    }
                    
                    if (buyButton) {
                        if (gameState.money >= cost) {
                            generatorCard.classList.remove("disabled");
                            buyButton.disabled = false;
                        } else {
                            generatorCard.classList.add("disabled");
                            buyButton.disabled = true;
                        }
                    }
                }
            });
        }

        // ============================
        // EFECTOS VISUALES
        // ============================
        function createClickParticle(x, y, amount) {
            const particle = document.createElement("div");
            particle.className = "click-particle";
            particle.textContent = `+${formatNumber(amount)}`;
            particle.style.left = x + "px";
            particle.style.top = y + "px";
            particle.style.color = "#fbbf24";
            particle.style.fontWeight = "bold";
            particle.style.fontSize = "18px";
            particle.style.pointerEvents = "none";
            particle.style.position = "fixed";
            particle.style.zIndex = "1000";
            
            document.body.appendChild(particle);
            
            // Animaci√≥n
            const duration = 1000;
            const startY = y;
            const startX = x;
            const endY = startY - 100;
            const endX = startX + (Math.random() * 100 - 50);
            const startTime = Date.now();
            
            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const currentY = startY - (progress * 100);
                const currentX = startX + (progress * (endX - startX));
                const opacity = 1 - progress;
                const scale = 1 + (progress * 0.5);
                
                particle.style.top = currentY + "px";
                particle.style.left = currentX + "px";
                particle.style.opacity = opacity;
                particle.style.transform = `scale(${scale})`;
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    particle.remove();
                }
            }
            
            animate();
        }

        // ============================
        // EVENT LISTENERS
        // ============================
        function setupEventListeners() {
            // Clicker principal
            document.getElementById("clickerButton").addEventListener("click", handleClick);
            
            // Tambi√©n permitir click con espacio
            document.addEventListener("keydown", (e) => {
                if (e.code === "Space" || e.code === "Enter") {
                    e.preventDefault();
                    handleClick();
                    
                    // Simular clic en el bot√≥n visualmente
                    const clickerButton = document.getElementById("clickerButton");
                    clickerButton.style.transform = "scale(0.95)";
                    setTimeout(() => {
                        clickerButton.style.transform = "scale(1)";
                    }, 100);
                }
            });
            
            // Mejorar clicker
            document.getElementById("upgradeClicker").addEventListener("click", upgradeClicker);
            
            // Tabs de mejoras
            document.querySelectorAll(".upgrade-tab").forEach(tab => {
                tab.addEventListener("click", () => {
                    const tabId = tab.dataset.tab;
                    
                    document.querySelectorAll(".upgrade-tab").forEach(t => t.classList.remove("active"));
                    tab.classList.add("active");
                    
                    document.querySelectorAll(".upgrade-content").forEach(content => {
                        content.classList.remove("active");
                    });
                    document.getElementById(`tab-${tabId}`).classList.add("active");
                });
            });
            
            // Retirar fondos
            document.getElementById("withdrawButton").addEventListener("click", withdrawFunds);
        }

        // ============================
        // UTILIDADES
        // ============================
        function formatNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return Math.floor(num);
        }

        function showNotification(message, type) {
            const notification = document.getElementById("notification");
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = "block";
            
            setTimeout(() => {
                notification.style.display = "none";
            }, 3000);
        }

        function loadGame() {
            try {
                const saved = localStorage.getItem("cryptoClickerProSave");
                if (saved) {
                    const data = JSON.parse(saved);
                    Object.assign(gameState, data);
                    showNotification("Partida cargada exitosamente", "success");
                }
            } catch (e) {
                console.log("Nueva partida comenzada");
            }
        }

        function saveGame() {
            localStorage.setItem("cryptoClickerProSave", JSON.stringify(gameState));
        }

        // ============================
        // INICIAR EL JUEGO
        // ============================
        document.addEventListener("DOMContentLoaded", initGame);
        window.addEventListener("beforeunload", saveGame);
        setInterval(saveGame, 30000); // Auto-guardar cada 30 segundos
    </script>
</body>
</html>