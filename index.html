<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Clicker Pro - Sistema Econ√≥mico Equilibrado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3b82f6;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --premium: #fbbf24;
            --crypto: #00d1b2;
            --dark: #1e293b;
            --darker: #0f172a;
            --light: #f1f5f9;
            --mission: #8b5cf6;
            --temporal: #ec4899;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, var(--darker), #1e1b4b);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 80px;
        }
        
        /* Header fijo compacto */
        .compact-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--primary);
            padding: 12px 15px;
            z-index: 1000;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }
        
        .compact-stat {
            text-align: center;
            padding: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .compact-label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .compact-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--premium);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .compact-subvalue {
            font-size: 0.7rem;
            color: #cbd5e1;
        }
        
        /* Contenido principal */
        .main-content {
            padding: 80px 15px 100px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Clicker gigante siempre visible */
        .clicker-container {
            margin: 20px auto 40px;
            text-align: center;
        }
        
        .clicker-button {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), #2563eb);
            border: 6px solid var(--premium);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin: 0 auto 20px;
            transition: all 0.1s;
            user-select: none;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4),
                        inset 0 -8px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        @media (min-width: 768px) {
            .clicker-button {
                width: 220px;
                height: 220px;
            }
        }
        
        .clicker-button:active {
            transform: scale(0.95);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3),
                        inset 0 -4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .click-amount {
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
            margin-bottom: 5px;
        }
        
        .click-label {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .cps-display {
            color: var(--secondary);
            font-weight: bold;
            margin-top: 8px;
            font-size: 0.9rem;
        }
        
        /* Tabs compactas */
        .tabs-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(30, 41, 59, 0.98);
            backdrop-filter: blur(10px);
            border-top: 2px solid var(--primary);
            z-index: 1000;
            display: flex;
            padding: 10px 5px;
        }
        
        .tab-button {
            flex: 1;
            padding: 12px 8px;
            border: none;
            background: transparent;
            color: #94a3b8;
            font-size: 0.85rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
        }
        
        .tab-button.active {
            color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .tab-icon {
            font-size: 1.2rem;
        }
        
        /* Contenido de las tabs */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Estilos para cada secci√≥n */
        .section {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid;
        }
        
        .section-generators {
            border-color: var(--secondary);
        }
        
        .section-upgrades {
            border-color: var(--primary);
        }
        
        .section-gems {
            border-color: var(--premium);
        }
        
        .section-crypto {
            border-color: var(--crypto);
        }
        
        .section-missions {
            border-color: var(--mission);
        }
        
        .section-temporal {
            border-color: var(--temporal);
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Grid compacto para generadores */
        .compact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
        }
        
        @media (min-width: 480px) {
            .compact-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
        }
        
        .compact-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(30, 41, 59, 0.8));
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .compact-card:hover {
            transform: translateY(-3px);
            border-color: var(--secondary);
        }
        
        .compact-card.disabled {
            opacity: 0.5;
            filter: grayscale(0.5);
            cursor: not-allowed;
        }
        
        .compact-card.disabled:hover {
            transform: none;
            border-color: rgba(16, 185, 129, 0.3);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .card-icon {
            font-size: 1.8rem;
            flex-shrink: 0;
        }
        
        .card-name {
            font-size: 1rem;
            font-weight: bold;
            color: white;
        }
        
        .card-level {
            font-size: 0.8rem;
            color: #94a3b8;
        }
        
        .card-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            margin: 10px 0;
        }
        
        .card-production {
            color: var(--secondary);
            font-weight: bold;
        }
        
        .card-cost {
            color: var(--premium);
            font-weight: bold;
        }
        
        /* Botones compactos */
        .btn-compact {
            padding: 10px 15px;
            border-radius: 10px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 0.9rem;
            width: 100%;
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--secondary), #059669);
            color: white;
        }
        
        .btn-success:active:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }
        
        .btn-warning:active:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .btn-premium {
            background: linear-gradient(135deg, var(--premium), #f59e0b);
            color: #1e293b;
            font-weight: bold;
        }
        
        .btn-premium:active:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .btn-crypto {
            background: linear-gradient(135deg, var(--crypto), #00b89c);
            color: white;
        }
        
        .btn-crypto:active:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .btn-temporal {
            background: linear-gradient(135deg, var(--temporal), #db2777);
            color: white;
        }
        
        .btn-temporal:active:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Tienda de gemas compacta */
        .gems-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
        }
        
        .gem-card-compact {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.1));
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 2px solid var(--premium);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .gem-card-compact:active {
            transform: translateY(-3px);
        }
        
        .gem-icon-compact {
            font-size: 2rem;
            color: var(--premium);
            margin-bottom: 10px;
        }
        
        .gem-name-compact {
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
            margin-bottom: 8px;
        }
        
        .gem-price-compact {
            font-size: 1rem;
            color: var(--premium);
            font-weight: bold;
            margin: 10px 0;
        }
        
        /* Mejoras compactas */
        .upgrades-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        @media (min-width: 480px) {
            .upgrades-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .upgrade-card-compact {
            background: rgba(59, 130, 246, 0.1);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .upgrade-card-compact:active:not(.disabled):not(.purchased) {
            transform: translateY(-3px);
            border-color: var(--primary);
        }
        
        .upgrade-card-compact.purchased {
            border-color: var(--secondary);
            background: rgba(16, 185, 129, 0.1);
        }
        
        .upgrade-card-compact.temporal {
            border-color: var(--temporal);
            background: rgba(236, 72, 153, 0.1);
        }
        
        .upgrade-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .upgrade-icon {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .upgrade-icon.temporal {
            color: var(--temporal);
        }
        
        .upgrade-title {
            font-size: 1rem;
            font-weight: bold;
            color: white;
        }
        
        .upgrade-cost {
            color: var(--premium);
            font-weight: bold;
            margin: 10px 0;
            text-align: center;
        }
        
        /* Temporizador para mejoras temporales */
        .timer {
            font-size: 0.8rem;
            color: var(--temporal);
            font-weight: bold;
            margin: 5px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        /* ROI (Retorno de inversi√≥n) */
        .roi-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .roi-positive {
            background: rgba(16, 185, 129, 0.2);
            color: var(--secondary);
            border: 1px solid var(--secondary);
        }
        
        .roi-high {
            background: rgba(251, 191, 36, 0.2);
            color: var(--premium);
            border: 1px solid var(--premium);
        }
        
        /* Secci√≥n de cripto compacta */
        .crypto-info {
            background: rgba(0, 209, 178, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid var(--crypto);
        }
        
        .withdrawal-input {
            margin: 15px 0;
        }
        
        .withdrawal-input input {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 2px solid var(--crypto);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        /* Misiones */
        .missions-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .mission-card {
            background: rgba(139, 92, 246, 0.1);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            transition: all 0.3s;
        }
        
        .mission-card.completed {
            border-color: var(--secondary);
            background: rgba(16, 185, 129, 0.1);
        }
        
        .mission-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .mission-title {
            font-size: 1rem;
            font-weight: bold;
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mission-reward {
            font-size: 0.9rem;
            color: var(--premium);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .mission-progress {
            margin-top: 10px;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--mission), #7c3aed);
            border-radius: 4px;
            transition: width 0.5s;
        }
        
        .progress-text {
            font-size: 0.8rem;
            color: #94a3b8;
            display: flex;
            justify-content: space-between;
        }
        
        /* Tabla de ganancias */
        .earnings-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        .earnings-table th, .earnings-table td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .earnings-table th {
            color: var(--crypto);
            font-weight: bold;
        }
        
        /* Notificaciones */
        .notification {
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 20px;
            border-radius: 10px;
            z-index: 1001;
            display: none;
            animation: slideDown 0.3s;
            color: white;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            text-align: center;
        }
        
        @keyframes slideDown {
            from { transform: translate(-50%, -20px); opacity: 0; }
            to { transform: translate(-50%, 0); opacity: 1; }
        }
        
        .notification.success { background: var(--secondary); }
        .notification.error { background: var(--danger); }
        .notification.warning { background: var(--warning); }
        .notification.info { background: var(--primary); }
        .notification.premium { background: var(--premium); color: #1e293b; }
        .notification.crypto { background: var(--crypto); }
        .notification.mission { background: var(--mission); }
        .notification.temporal { background: var(--temporal); }
        
        /* Stats adicionales debajo del clicker */
        .clicker-stats-compact {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin: 20px auto;
            max-width: 400px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-label-small {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-bottom: 5px;
        }
        
        .stat-value-small {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--warning);
        }
        
        /* Efectos de part√≠culas para clicks */
        .click-particle {
            position: fixed;
            pointer-events: none;
            border-radius: 50%;
            background: var(--premium);
            opacity: 0;
            z-index: 1;
            transform-origin: center;
        }
        
        /* Scroll suave */
        .tab-content {
            max-height: calc(100vh - 300px);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Estilos para mejorar la experiencia t√°ctil */
        @media (hover: hover) {
            .compact-card:hover {
                transform: translateY(-5px);
                border-color: var(--secondary);
            }
            
            .gem-card-compact:hover {
                transform: translateY(-5px);
            }
            
            .upgrade-card-compact:hover:not(.disabled):not(.purchased) {
                transform: translateY(-5px);
                border-color: var(--primary);
            }
            
            .btn-success:hover:not(:disabled) {
                transform: translateY(-3px);
            }
            
            .btn-warning:hover:not(:disabled) {
                transform: translateY(-3px);
            }
            
            .btn-premium:hover:not(:disabled) {
                transform: translateY(-3px);
            }
            
            .btn-crypto:hover:not(:disabled) {
                transform: translateY(-3px);
            }
        }
        
        /* Badge de ROI */
        .roi-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }
        
        .roi-label {
            font-size: 0.8rem;
            color: #94a3b8;
        }
        
        .roi-value {
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .roi-value.positive {
            color: var(--secondary);
        }
        
        .roi-value.negative {
            color: var(--danger);
        }
        
        /* Bono diario */
        .daily-bonus {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(30, 41, 59, 0.8));
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border: 2px solid var(--mission);
            text-align: center;
        }
        
        .streak-counter {
            font-size: 0.9rem;
            color: var(--premium);
            margin-bottom: 10px;
        }
        
        .bonus-amount {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--mission);
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- Header fijo con estad√≠sticas -->
    <div class="compact-header">
        <div class="compact-stat">
            <div class="compact-label">üí∞ Dinero</div>
            <div class="compact-value" id="compactMoney">0</div>
            <div class="compact-subvalue" id="compactMoneyPerSec">+0/s</div>
        </div>
        
        <div class="compact-stat">
            <div class="compact-label">‚Çø Cripto</div>
            <div class="compact-value crypto" id="compactCrypto">0.000000</div>
            <div class="compact-subvalue">‚âà $<span id="compactCryptoUSD">0.00</span></div>
        </div>
        
        <div class="compact-stat">
            <div class="compact-label">üíé Gemas</div>
            <div class="compact-value" id="compactGems">0</div>
            <div class="compact-subvalue" id="compactLevel">Nivel 1</div>
        </div>
    </div>
    
    <!-- Contenido principal -->
    <div class="main-content">
        <!-- Clicker siempre visible -->
        <div class="clicker-container">
            <div class="clicker-button" id="clickerButton">
                <div class="click-amount" id="clickAmount">+1</div>
                <div class="click-label">por Click</div>
                <div class="cps-display" id="cpsDisplay">0 CPS</div>
            </div>
            
            <div class="clicker-stats-compact">
                <div class="stat-box">
                    <div class="stat-label-small">Total Clicks</div>
                    <div class="stat-value-small" id="totalClicks">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label-small">Poder Click</div>
                    <div class="stat-value-small" id="clickPower">1</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label-small">Multiplicador</div>
                    <div class="stat-value-small" id="clickMultiplier">1x</div>
                </div>
            </div>
            
            <button class="btn btn-warning" id="upgradeClicker" style="max-width: 250px; margin: 0 auto;">
                <i class="fas fa-arrow-up"></i>
                Mejorar Click (<span id="clickUpgradeCost">100</span>)
            </button>
        </div>
        
        <!-- Tabs de contenido -->
        
        <!-- Generadores -->
        <div class="tab-content active" id="tab-generators">
            <!-- Bono diario -->
            <div class="daily-bonus">
                <h4 style="color: var(--mission); margin-bottom: 10px;">
                    <i class="fas fa-gift"></i> BONO DIARIO
                </h4>
                <div class="streak-counter" id="streakCounter">D√≠a 1 - Ma√±ana: +5 gemas</div>
                <div class="bonus-amount" id="dailyBonusAmount">+5 üíé</div>
                <button class="btn btn-premium" id="claimDailyBonus" style="margin-top: 10px;">
                    <i class="fas fa-gift"></i> Reclamar Bono
                </button>
                <div style="font-size: 0.8rem; color: #94a3b8; margin-top: 10px;">
                    Vuelve cada d√≠a para aumentar tu racha y obtener m√°s gemas
                </div>
            </div>
            
            <div class="section section-generators">
                <h3 class="section-title">
                    <i class="fas fa-industry"></i> Generadores
                </h3>
                <div class="compact-grid" id="generatorsGrid">
                    <!-- Los generadores se cargan aqu√≠ -->
                </div>
            </div>
            
            <!-- Mejoras con dinero -->
            <div class="section section-upgrades">
                <h3 class="section-title">
                    <i class="fas fa-arrow-up"></i> Mejoras con Dinero
                </h3>
                <div class="upgrades-grid" id="moneyUpgradesGrid">
                    <!-- Las mejoras con dinero se cargan aqu√≠ -->
                </div>
            </div>
        </div>
        
        <!-- Mejoras con gemas -->
        <div class="tab-content" id="tab-upgrades">
            <div class="section section-upgrades">
                <h3 class="section-title">
                    <i class="fas fa-gem"></i> Mejoras Permanentes
                </h3>
                <p style="margin-bottom: 15px; color: #cbd5e1; font-size: 0.9rem;">
                    Estas mejoras son para siempre. El ROI muestra cu√°nto ganar√°s en relaci√≥n a lo que gastas.
                </p>
                <div class="upgrades-grid" id="permanentUpgradesGrid">
                    <!-- Las mejoras permanentes se cargan aqu√≠ -->
                </div>
            </div>
            
            <!-- Mejoras temporales -->
            <div class="section section-temporal">
                <h3 class="section-title">
                    <i class="fas fa-clock"></i> Mejoras Temporales
                </h3>
                <p style="margin-bottom: 15px; color: #cbd5e1; font-size: 0.9rem;">
                    Estas mejoras duran 24 horas. Son m√°s poderosas y generan mucho m√°s de lo que cuestan.
                </p>
                <div class="upgrades-grid" id="temporalUpgradesGrid">
                    <!-- Las mejoras temporales se cargan aqu√≠ -->
                </div>
            </div>
        </div>
        
        <!-- Tienda de gemas -->
        <div class="tab-content" id="tab-gems">
            <div class="section section-gems">
                <h3 class="section-title">
                    <i class="fas fa-shopping-cart"></i> Comprar Gemas
                </h3>
                <p style="margin-bottom: 15px; color: #cbd5e1; font-size: 0.9rem;">
                    <strong>¬°Invierte para ganar m√°s!</strong> Cada $1 que gastes te generar√° $3-5 en ganancias a largo plazo.
                </p>
                
                <!-- Calculadora de ROI -->
                <div style="background: rgba(16, 185, 129, 0.1); border-radius: 10px; padding: 15px; margin-bottom: 20px; border: 1px solid var(--secondary);">
                    <h4 style="color: var(--secondary); margin-bottom: 10px;"><i class="fas fa-calculator"></i> Calculadora de ROI</h4>
                    <p style="font-size: 0.9rem; color: #cbd5e1; margin-bottom: 10px;">
                        <strong>ROI (Retorno de Inversi√≥n):</strong> 
                        <span id="roiValue" style="color: var(--secondary); font-weight: bold;">300%</span>
                    </p>
                    <p style="font-size: 0.85rem; color: #94a3b8;">
                        Por cada $1 que gastes, ganar√°s aproximadamente $3-5 en el juego.
                        Tu inversi√≥n se recupera en <span id="roiTime" style="color: var(--premium); font-weight: bold;">2-3 d√≠as</span>.
                    </p>
                </div>
                
                <div class="gems-grid" id="gemsShopGrid">
                    <!-- La tienda de gemas se carga aqu√≠ -->
                </div>
            </div>
        </div>
        
        <!-- Misiones -->
        <div class="tab-content" id="tab-missions">
            <div class="section section-missions">
                <h3 class="section-title">
                    <i class="fas fa-tasks"></i> Misiones y Logros
                </h3>
                <p style="margin-bottom: 15px; color: #cbd5e1; font-size: 0.9rem;">
                    Gana gemas gratis completando misiones. ¬°Sin gemas el progreso es lento!
                </p>
                <div class="missions-grid" id="missionsGrid">
                    <!-- Las misiones se cargan aqu√≠ -->
                </div>
            </div>
        </div>
        
        <!-- Cripto y ganancias -->
        <div class="tab-content" id="tab-crypto">
            <div class="section section-crypto">
                <h3 class="section-title">
                    <i class="fab fa-bitcoin"></i> Criptomonedas y Ganancias
                </h3>
                
                <div class="crypto-info">
                    <h4 style="margin-bottom: 10px; color: var(--crypto);">üí∞ Balance de Ganancias</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px;">
                            <div style="font-size: 0.8rem; color: #94a3b8;">Tus Ganancias</div>
                            <div style="font-size: 1.2rem; font-weight: bold; color: var(--secondary);">$<span id="userEarnings">0.00</span></div>
                        </div>
                        <div style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px;">
                            <div style="font-size: 0.8rem; color: #94a3b8;">Fondo Disponible</div>
                            <div style="font-size: 1.2rem; font-weight: bold; color: var(--premium);">$<span id="availableFund">1000.00</span></div>
                        </div>
                    </div>
                    
                    <p style="font-size: 0.8rem; color: #cbd5e1; margin-bottom: 15px;">
                        <i class="fas fa-info-circle"></i> Sistema garantizado: 60% para pagos, 40% para desarrollo
                    </p>
                </div>
                
                <h4 style="margin: 20px 0 10px; color: var(--crypto);">üìä Historial de Conversi√≥n</h4>
                <div style="overflow-x: auto;">
                    <table class="earnings-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Dinero Convertido</th>
                                <th>Cripto Obtenido</th>
                                <th>Valor USD</th>
                            </tr>
                        </thead>
                        <tbody id="conversionHistory">
                            <!-- Historial de conversiones -->
                        </tbody>
                    </table>
                </div>
                
                <h4 style="margin: 20px 0 10px; color: var(--crypto);">üîÑ Convertir a Cripto</h4>
                <p style="margin-bottom: 10px; color: #cbd5e1; font-size: 0.9rem;">
                    Tasa de conversi√≥n: <span id="conversionRate">10,000</span> dinero = 0.000001 BTC (~$0.05)<br>
                    M√≠nimo para retirar: 0.0001 BTC (~$5.00)<br>
                    <strong>Se necesitan: 1,000,000 dinero para $5</strong>
                </p>
                
                <div class="withdrawal-input">
                    <input type="number" id="cryptoAmount" placeholder="Cantidad de dinero a convertir" min="10000" step="10000">
                    <button class="btn btn-crypto" id="convertToCrypto" style="width: 100%;">
                        <i class="fas fa-exchange-alt"></i> Convertir a Cripto
                    </button>
                </div>
                
                <div style="background: rgba(59, 130, 246, 0.1); border-radius: 10px; padding: 15px; margin-top: 20px; border: 1px solid var(--primary);">
                    <h4 style="color: var(--primary); margin-bottom: 10px;"><i class="fas fa-chart-line"></i> Proyecci√≥n de Ganancias</h4>
                    
                    <p style="font-size: 0.9rem; color: #cbd5e1; margin-bottom: 10px;">
                        <strong>Sin gastar dinero real:</strong>
                    </p>
                    <ul style="font-size: 0.9rem; color: #cbd5e1; margin-left: 20px; margin-bottom: 15px;">
                        <li><strong>Primeras 2 horas:</strong> ~$0.10 en ganancias</li>
                        <li><strong>10-15 horas:</strong> ~$1-2 en ganancias</li>
                        <li><strong>1 mes (2h/d√≠a):</strong> ~$10-20 en ganancias</li>
                    </ul>
                    
                    <p style="font-size: 0.9rem; color: #cbd5e1; margin-bottom: 10px;">
                        <strong>Inversi√≥n inteligente (ROI 300-500%):</strong>
                    </p>
                    <ul style="font-size: 0.9rem; color: #cbd5e1; margin-left: 20px;">
                        <li><strong>$1 inversi√≥n:</strong> Genera $3-5 en ganancias</li>
                        <li><strong>$10 inversi√≥n:</strong> Genera $30-50 en ganancias</li>
                        <li><strong>$60 inversi√≥n:</strong> Genera $180-300 en ganancias</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tabs de navegaci√≥n -->
    <div class="tabs-container">
        <button class="tab-button active" data-tab="tab-generators">
            <i class="fas fa-industry"></i>
            <span>Generadores</span>
        </button>
        <button class="tab-button" data-tab="tab-upgrades">
            <i class="fas fa-gem"></i>
            <span>Mejoras</span>
        </button>
        <button class="tab-button" data-tab="tab-gems">
            <i class="fas fa-shopping-cart"></i>
            <span>Tienda</span>
        </button>
        <button class="tab-button" data-tab="tab-missions">
            <i class="fas fa-tasks"></i>
            <span>Misiones</span>
        </button>
        <button class="tab-button" data-tab="tab-crypto">
            <i class="fab fa-bitcoin"></i>
            <span>Cripto</span>
        </button>
    </div>
    
    <!-- Notificaciones -->
    <div id="notification" class="notification"></div>

    <script>
        // Variables del juego
        let money = 0;
        let crypto = 0;
        let gems = 0;
        let clickPower = 1;
        let totalClicks = 0;
        let totalMoneyEarned = 0;
        let moneyPerSecond = 0;
        let userEarningsUSD = 0;
        let availableFund = 1000.00;
        let clickMultiplier = 1;
        
        // Sistema de bonos diarios
        let lastBonusClaim = localStorage.getItem('lastBonusClaim') || null;
        let bonusStreak = parseInt(localStorage.getItem('bonusStreak')) || 1;
        
        // Precios de mejoras de click
        let clickUpgradeCost = 100;
        let clickUpgradeLevel = 1;
        
        // Generadores (m√°s caros sin mejoras)
        const generators = [
            { id: 1, name: "Miner√≠a B√°sica", baseCost: 100, baseCPS: 0.1, level: 0, icon: "fas fa-server", description: "Muy lento sin mejoras" },
            { id: 2, name: "Granja GPU", baseCost: 1000, baseCPS: 1, level: 0, icon: "fas fa-microchip", description: "Requiere inversi√≥n" },
            { id: 3, name: "Data Center", baseCost: 10000, baseCPS: 5, level: 0, icon: "fas fa-database", description: "Carro pero necesario" },
            { id: 4, name: "Miner√≠a ASIC", baseCost: 100000, baseCPS: 20, level: 0, icon: "fas fa-hdd", description: "Solo para jugadores activos" },
            { id: 5, name: "Granja Solar", baseCost: 1000000, baseCPS: 80, level: 0, icon: "fas fa-solar-panel", description: "Para inversores serios" },
            { id: 6, name: "Blockchain Corp", baseCost: 10000000, baseCPS: 400, level: 0, icon: "fas fa-building", description: "M√°xima eficiencia" }
        ];
        
        // Mejoras con dinero
        const moneyUpgrades = [
            { id: 1, name: "Click Mejorado", cost: 200, type: "click", value: 1, purchased: false, icon: "fas fa-mouse-pointer", description: "+1 al poder de click", roi: 1.5 },
            { id: 2, name: "Multiplicador x2", cost: 1000, type: "multiplier", value: 2, purchased: false, icon: "fas fa-times", description: "Duplica todo el dinero", roi: 3 },
            { id: 3, name: "Auto-Click", cost: 5000, type: "autoclick", value: 1, purchased: false, icon: "fas fa-robot", description: "1 click cada 10s", roi: 2 },
            { id: 4, name: "Generadores +20%", cost: 20000, type: "generatorBoost", value: 1.2, purchased: false, icon: "fas fa-chart-line", description: "+20% producci√≥n", roi: 1.8 },
            { id: 5, name: "Multiplicador x3", cost: 50000, type: "multiplier", value: 3, purchased: false, icon: "fas fa-times", description: "Triplica el dinero", roi: 4 }
        ];
        
        // Mejoras PERMANENTES con gemas (ROI alto)
        const permanentGemUpgrades = [
            { id: 1, name: "Click Dorado", cost: 10, type: "goldenClick", value: 50, purchased: false, icon: "fas fa-crown", description: "5% de chance de x50 dinero", roi: 50, multiplier: 1.5 },
            { id: 2, name: "Generador VIP", cost: 25, type: "vipGenerator", value: 3, purchased: false, icon: "fas fa-star", description: "x3 producci√≥n generadores", roi: 40, multiplier: 3 },
            { id: 3, name: "Multiplicador √âlite", cost: 50, type: "eliteMultiplier", value: 5, purchased: false, icon: "fas fa-gem", description: "x5 todo el dinero", roi: 60, multiplier: 5 },
            { id: 4, name: "Cripto Boost", cost: 75, type: "cryptoBoost", value: 5, purchased: false, icon: "fas fa-rocket", description: "x5 cripto obtenida", roi: 45, multiplier: 5 }
        ];
        
        // Mejoras TEMPORALES con gemas (24 horas, ROI MUY alto)
        const temporalGemUpgrades = [
            { 
                id: 1, 
                name: "Boost x10 Temporal", 
                cost: 15, 
                type: "temporalMultiplier", 
                value: 10, 
                purchased: false, 
                icon: "fas fa-bolt", 
                description: "x10 dinero por 24h", 
                roi: 100, // ROI del 1000%
                duration: 24 * 60 * 60 * 1000, // 24 horas en milisegundos
                endTime: null,
                active: false
            },
            { 
                id: 2, 
                name: "Auto-Click Premium", 
                cost: 20, 
                type: "premiumAutoclick", 
                value: 10, 
                purchased: false, 
                icon: "fas fa-robot", 
                description: "10 clicks/s por 24h", 
                roi: 80,
                duration: 24 * 60 * 60 * 1000,
                endTime: null,
                active: false
            },
            { 
                id: 3, 
                name: "Generadores x5", 
                cost: 30, 
                type: "temporalGenerator", 
                value: 5, 
                purchased: false, 
                icon: "fas fa-industry", 
                description: "x5 producci√≥n por 24h", 
                roi: 120,
                duration: 24 * 60 * 60 * 1000,
                endTime: null,
                active: false
            },
            { 
                id: 4, 
                name: "Cripto x10", 
                cost: 25, 
                type: "temporalCrypto", 
                value: 10, 
                purchased: false, 
                icon: "fab fa-bitcoin", 
                description: "x10 cripto por 24h", 
                roi: 150,
                duration: 24 * 60 * 60 * 1000,
                endTime: null,
                active: false
            }
        ];
        
        // Tienda de gemas con ROI garantizado
        const gemShop = [
            { id: 1, name: "Inversi√≥n B√°sica", gems: 50, price: 0.99, icon: "fas fa-gem", description: "ROI: 300%", roi: 3 },
            { id: 2, name: "Inversi√≥n Plata", gems: 150, price: 2.99, icon: "fas fa-gem", description: "ROI: 350%", roi: 3.5 },
            { id: 3, name: "Inversi√≥n Oro", gems: 300, price: 4.99, icon: "fas fa-gem", description: "ROI: 400%", roi: 4 },
            { id: 4, name: "Inversi√≥n Platino", gems: 750, price: 9.99, icon: "fas fa-gem", description: "ROI: 450%", roi: 4.5 },
            { id: 5, name: "Inversi√≥n Diamante", gems: 1500, price: 19.99, icon: "fas fa-gem", description: "ROI: 500%", roi: 5 },
            { id: 6, name: "Inversi√≥n √âlite", gems: 3500, price: 39.99, icon: "fas fa-gem", description: "ROI: 550%", roi: 5.5 }
        ];
        
        // Misiones
        const missions = [
            { id: 1, name: "Primeros Clicks", target: 10, current: 0, type: "clicks", reward: { gems: 3, money: 50 }, completed: false, icon: "fas fa-play" },
            { id: 2, name: "Clicker Novato", target: 100, current: 0, type: "clicks", reward: { gems: 5, money: 200 }, completed: false, icon: "fas fa-user" },
            { id: 3, name: "Clicker Experto", target: 500, current: 0, type: "clicks", reward: { gems: 10, money: 1000 }, completed: false, icon: "fas fa-user-check" },
            { id: 4, name: "Primer Generador", target: 1, current: 0, type: "generators", reward: { gems: 2, money: 100 }, completed: false, icon: "fas fa-server" },
            { id: 5, name: "Granjero", target: 3, current: 0, type: "generatorLevels", reward: { gems: 5, money: 500 }, completed: false, icon: "fas fa-microchip" },
            { id: 6, name: "Inversor", target: 100000, current: 0, type: "money", reward: { gems: 15, money: 5000 }, completed: false, icon: "fas fa-money-bill-wave" },
            { id: 7, name: "Cripto Iniciado", target: 0.00001, current: 0, type: "crypto", reward: { gems: 8, money: 2000 }, completed: false, icon: "fab fa-bitcoin" },
            { id: 8, name: "Mejoras Iniciales", target: 2, current: 0, type: "upgrades", reward: { gems: 10, money: 3000 }, completed: false, icon: "fas fa-arrow-up" }
        ];
        
        // Historial de conversiones
        let conversionHistory = [];
        
        // Inicializar el juego
        function initGame() {
            loadGame();
            setupEventListeners();
            updateUI();
            renderGenerators();
            renderMoneyUpgrades();
            renderPermanentUpgrades();
            renderTemporalUpgrades();
            renderGemShop();
            renderMissions();
            updateConversionHistory();
            checkDailyBonus();
            
            // Bucle del juego
            setInterval(gameLoop, 1000);
            
            // Verificar mejoras temporales
            setInterval(checkTemporalUpgrades, 1000);
            
            // Auto-click b√°sico
            const autoClickUpgrade = moneyUpgrades.find(u => u.type === "autoclick" && u.purchased);
            if (autoClickUpgrade) {
                setInterval(() => {
                    if (autoClickUpgrade.purchased) {
                        click();
                    }
                }, 10000);
            }
        }
        
        // Bucle principal del juego
        function gameLoop() {
            // Calcular CPS base
            moneyPerSecond = 0;
            generators.forEach(gen => {
                if (gen.level > 0) {
                    let genCPS = gen.baseCPS * gen.level;
                    
                    // Boost de mejoras con dinero
                    const generatorBoost = moneyUpgrades.find(u => u.type === "generatorBoost" && u.purchased);
                    if (generatorBoost) {
                        genCPS *= generatorBoost.value;
                    }
                    
                    // Boost de mejoras permanentes con gemas
                    const vipGenerator = permanentGemUpgrades.find(u => u.type === "vipGenerator" && u.purchased);
                    if (vipGenerator) {
                        genCPS *= vipGenerator.value;
                    }
                    
                    // Boost de mejoras temporales
                    const temporalGenerator = temporalGemUpgrades.find(u => u.type === "temporalGenerator" && u.active);
                    if (temporalGenerator) {
                        genCPS *= temporalGenerator.value;
                    }
                    
                    moneyPerSecond += genCPS;
                }
            });
            
            // Aplicar multiplicadores temporales
            let temporalMultiplier = 1;
            const temporalMultiplierUpgrade = temporalGemUpgrades.find(u => u.type === "temporalMultiplier" && u.active);
            if (temporalMultiplierUpgrade) {
                temporalMultiplier *= temporalMultiplierUpgrade.value;
            }
            
            // Aplicar multiplicadores permanentes
            const eliteMultiplier = permanentGemUpgrades.find(u => u.type === "eliteMultiplier" && u.purchased);
            if (eliteMultiplier) {
                temporalMultiplier *= eliteMultiplier.value;
            }
            
            // Calcular dinero ganado con multiplicadores
            const moneyEarnedThisSecond = moneyPerSecond * temporalMultiplier;
            money += moneyEarnedThisSecond;
            totalMoneyEarned += moneyEarnedThisSecond;
            
            // Auto-click premium si est√° activo
            const premiumAutoClick = temporalGemUpgrades.find(u => u.type === "premiumAutoclick" && u.active);
            if (premiumAutoClick) {
                for (let i = 0; i < premiumAutoClick.value; i++) {
                    click();
                }
            }
            
            // Actualizar misiones
            updateMissionProgress("money", moneyEarnedThisSecond);
            
            // Actualizar UI
            updateUI();
            updateGeneratorsUI();
            updateMissionsUI();
            updateTemporalUpgradesUI();
        }
        
        // Sistema de clicks
        function click() {
            totalClicks++;
            
            // Calcular valor base del click
            let clickValue = clickPower;
            
            // Aplicar multiplicadores
            clickValue *= clickMultiplier;
            
            // Aplicar multiplicadores de gemas
            const eliteMultiplier = permanentGemUpgrades.find(u => u.type === "eliteMultiplier" && u.purchased);
            if (eliteMultiplier) {
                clickValue *= eliteMultiplier.value;
            }
            
            // Aplicar multiplicadores temporales
            const temporalMultiplier = temporalGemUpgrades.find(u => u.type === "temporalMultiplier" && u.active);
            if (temporalMultiplier) {
                clickValue *= temporalMultiplier.value;
            }
            
            // Verificar click dorado
            const goldenClick = permanentGemUpgrades.find(u => u.type === "goldenClick" && u.purchased);
            if (goldenClick && Math.random() < 0.05) {
                clickValue *= goldenClick.value;
                showNotification(`¬°Click Dorado! +${formatNumber(clickValue)}`, "premium");
            }
            
            money += clickValue;
            totalMoneyEarned += clickValue;
            
            // Actualizar misiones de clicks
            updateMissionProgress("clicks", 1);
            
            // Actualizar UI
            updateUI();
            
            // Efecto visual
            createClickEffect(event);
        }
        
        // Comprar generador
        function buyGenerator(generatorId) {
            const generator = generators.find(g => g.id === generatorId);
            const cost = generator.baseCost * Math.pow(1.25, generator.level);
            
            if (money >= cost) {
                money -= cost;
                generator.level++;
                
                updateMissionProgress("generators", 1);
                updateMissionProgress("generatorLevels", 1);
                
                showNotification(`¬°${generator.name} comprado!`, "success");
                updateUI();
                updateGeneratorsUI();
            } else {
                showNotification("¬°No tienes suficiente dinero!", "error");
            }
        }
        
        // Mejorar click con dinero
        function upgradeClick() {
            if (money >= clickUpgradeCost) {
                money -= clickUpgradeCost;
                clickPower++;
                clickUpgradeLevel++;
                clickUpgradeCost = Math.floor(100 * Math.pow(1.8, clickUpgradeLevel));
                
                showNotification(`¬°Click mejorado a nivel ${clickUpgradeLevel}!`, "success");
                updateUI();
            } else {
                showNotification("¬°No tienes suficiente dinero!", "error");
            }
        }
        
        // Comprar mejora con dinero
        function buyMoneyUpgrade(upgradeId) {
            const upgrade = moneyUpgrades.find(u => u.id === upgradeId);
            
            if (!upgrade.purchased && money >= upgrade.cost) {
                money -= upgrade.cost;
                upgrade.purchased = true;
                
                if (upgrade.type === "multiplier") {
                    clickMultiplier *= upgrade.value;
                }
                
                updateMissionProgress("upgrades", 1);
                showNotification(`¬°${upgrade.name} comprado! (ROI: ${upgrade.roi}x)`, "success");
                updateUI();
                updateMoneyUpgradesUI();
            } else if (upgrade.purchased) {
                showNotification("¬°Ya tienes esta mejora!", "warning");
            } else {
                showNotification("¬°No tienes suficiente dinero!", "error");
            }
        }
        
        // Comprar mejora PERMANENTE con gemas
        function buyPermanentUpgrade(upgradeId) {
            const upgrade = permanentGemUpgrades.find(u => u.id === upgradeId);
            
            if (!upgrade.purchased && gems >= upgrade.cost) {
                gems -= upgrade.cost;
                upgrade.purchased = true;
                
                if (upgrade.type === "eliteMultiplier") {
                    clickMultiplier *= upgrade.value;
                }
                
                showNotification(`¬°${upgrade.name} comprado! (ROI: ${upgrade.roi}x)`, "premium");
                updateUI();
                updatePermanentUpgradesUI();
            } else if (upgrade.purchased) {
                showNotification("¬°Ya tienes esta mejora!", "warning");
            } else {
                showNotification("¬°No tienes suficientes gemas!", "error");
            }
        }
        
        // Comprar mejora TEMPORAL con gemas
        function buyTemporalUpgrade(upgradeId) {
            const upgrade = temporalGemUpgrades.find(u => u.id === upgradeId);
            
            if (gems >= upgrade.cost) {
                gems -= upgrade.cost;
                upgrade.active = true;
                upgrade.endTime = Date.now() + upgrade.duration;
                upgrade.purchased = true;
                
                showNotification(`¬°${upgrade.name} activado por 24h! (ROI: ${upgrade.roi}x)`, "temporal");
                updateUI();
                updateTemporalUpgradesUI();
            } else {
                showNotification("¬°No tienes suficientes gemas!", "error");
            }
        }
        
        // Verificar mejoras temporales
        function checkTemporalUpgrades() {
            const now = Date.now();
            let changed = false;
            
            temporalGemUpgrades.forEach(upgrade => {
                if (upgrade.active && upgrade.endTime && now >= upgrade.endTime) {
                    upgrade.active = false;
                    upgrade.endTime = null;
                    changed = true;
                    
                    showNotification(`¬°${upgrade.name} ha expirado!`, "warning");
                }
            });
            
            if (changed) {
                updateTemporalUpgradesUI();
            }
        }
        
        // Comprar gemas (simulaci√≥n)
        function buyGems(packageId) {
            const gemPackage = gemShop.find(p => p.id === packageId);
            
            // Actualizar fondo (60% para pagos, 40% ganancia)
            availableFund += gemPackage.price * 0.6;
            
            // A√±adir gemas al jugador
            gems += gemPackage.gems;
            
            // Calcular ganancia estimada para el usuario
            const estimatedEarnings = gemPackage.price * gemPackage.roi;
            
            showNotification(`¬°${gemPackage.name} comprado! +${gemPackage.gems} gemas. ROI estimado: $${estimatedEarnings.toFixed(2)}`, "premium");
            updateUI();
        }
        
        // Convertir dinero a cripto
        function convertToCrypto() {
            const amountInput = document.getElementById('cryptoAmount');
            const amount = parseInt(amountInput.value);
            
            if (!amount || amount < 10000) {
                showNotification("M√≠nimo 10,000 dinero para convertir", "error");
                return;
            }
            
            if (money < amount) {
                showNotification("No tienes suficiente dinero", "error");
                return;
            }
            
            // Tasa base: 10,000 dinero = 0.000001 BTC (~$0.05)
            let btcAmount = (amount / 10000) * 0.000001;
            
            // Boost permanente
            const cryptoBoost = permanentGemUpgrades.find(u => u.type === "cryptoBoost" && u.purchased);
            if (cryptoBoost) {
                btcAmount *= cryptoBoost.value;
            }
            
            // Boost temporal
            const temporalCrypto = temporalGemUpgrades.find(u => u.type === "temporalCrypto" && u.active);
            if (temporalCrypto) {
                btcAmount *= temporalCrypto.value;
            }
            
            // Calcular valor en USD
            const btcPrice = 50000;
            const usdValue = btcAmount * btcPrice;
            
            // Actualizar balances
            money -= amount;
            crypto += btcAmount;
            userEarningsUSD += usdValue;
            
            // Actualizar misiones
            updateMissionProgress("crypto", btcAmount);
            
            // A√±adir al historial
            const conversion = {
                date: new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString().substring(0,5),
                money: amount,
                crypto: btcAmount.toFixed(8),
                usdValue: usdValue.toFixed(2)
            };
            
            conversionHistory.unshift(conversion);
            if (conversionHistory.length > 10) {
                conversionHistory.pop();
            }
            
            updateUI();
            updateConversionHistory();
            amountInput.value = '';
            
            showNotification(`¬°Convertido a ${btcAmount.toFixed(8)} BTC (‚âà$${usdValue.toFixed(2)})!`, "crypto");
        }
        
        // Completar misi√≥n
        function claimMission(missionId) {
            const mission = missions.find(m => m.id === missionId);
            
            if (mission.completed || mission.current < mission.target) {
                return;
            }
            
            mission.completed = true;
            gems += mission.reward.gems;
            money += mission.reward.money;
            
            showNotification(`¬°Misi√≥n completada! +${mission.reward.gems} gemas`, "mission");
            updateUI();
            updateMissionsUI();
        }
        
        // Actualizar progreso de misiones
        function updateMissionProgress(type, value) {
            missions.forEach(mission => {
                if (!mission.completed && mission.type === type) {
                    mission.current += value;
                    if (mission.current > mission.target) {
                        mission.current = mission.target;
                    }
                }
            });
        }
        
        // Sistema de bono diario
        function checkDailyBonus() {
            const now = new Date();
            const today = now.toDateString();
            
            if (lastBonusClaim !== today) {
                // El usuario puede reclamar el bono hoy
                const bonusGems = 3 + (bonusStreak - 1) * 2; // 3, 5, 7, 9...
                if (bonusStreak > 7) bonusGems = 15; // M√°ximo 15 gemas
                
                document.getElementById('dailyBonusAmount').textContent = `+${bonusGems} üíé`;
                document.getElementById('streakCounter').textContent = `D√≠a ${bonusStreak} - Reclama tus ${bonusGems} gemas`;
                
                // Mostrar notificaci√≥n si es un nuevo d√≠a
                if (lastBonusClaim && lastBonusClaim !== today) {
                    showNotification(`¬°Bono diario disponible! Racha: ${bonusStreak} d√≠as`, "info");
                }
            } else {
                // Ya reclam√≥ hoy
                const tomorrow = new Date(now);
                tomorrow.setDate(tomorrow.getDate() + 1);
                tomorrow.setHours(0, 0, 0, 0);
                
                const hoursLeft = Math.floor((tomorrow - now) / (1000 * 60 * 60));
                const minutesLeft = Math.floor((tomorrow - now) / (1000 * 60)) % 60;
                
                document.getElementById('dailyBonusAmount').textContent = "Ya reclamado";
                document.getElementById('streakCounter').textContent = `Vuelve en ${hoursLeft}h ${minutesLeft}m`;
            }
        }
        
        // Reclamar bono diario
        function claimDailyBonus() {
            const now = new Date();
            const today = now.toDateString();
            
            if (lastBonusClaim === today) {
                showNotification("¬°Ya reclamaste tu bono hoy!", "warning");
                return;
            }
            
            // Calcular gemas del bono
            let bonusGems = 3 + (bonusStreak - 1) * 2;
            if (bonusStreak >= 7) bonusGems = 15;
            
            // Incrementar racha si fue ayer
            const yesterday = new Date(now);
            yesterday.setDate(yesterday.getDate() - 1);
            
            if (lastBonusClaim === yesterday.toDateString()) {
                bonusStreak++;
            } else if (lastBonusClaim !== today) {
                // Si no fue ayer, reiniciar racha
                bonusStreak = 1;
            }
            
            // Dar gemas
            gems += bonusGems;
            lastBonusClaim = today;
            
            // Guardar en localStorage
            localStorage.setItem('lastBonusClaim', lastBonusClaim);
            localStorage.setItem('bonusStreak', bonusStreak);
            
            showNotification(`¬°Bono diario reclamado! +${bonusGems} gemas (Racha: ${bonusStreak} d√≠as)`, "premium");
            updateUI();
            checkDailyBonus();
        }
        
        // Mostrar notificaci√≥n
        function showNotification(message, type = "info") {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Actualizar UI principal
        function updateUI() {
            // Actualizar header
            document.getElementById('compactMoney').textContent = formatNumber(money);
            document.getElementById('compactMoneyPerSec').textContent = `+${formatNumber(moneyPerSecond)}/s`;
            document.getElementById('compactCrypto').textContent = crypto.toFixed(8);
            document.getElementById('compactCryptoUSD').textContent = (crypto * 50000).toFixed(2);
            document.getElementById('compactGems').textContent = gems;
            document.getElementById('compactLevel').textContent = `Nivel ${clickUpgradeLevel}`;
            
            // Actualizar clicker
            document.getElementById('clickAmount').textContent = `+${formatNumber(clickPower * clickMultiplier)}`;
            document.getElementById('totalClicks').textContent = formatNumber(totalClicks);
            document.getElementById('clickPower').textContent = clickPower;
            document.getElementById('clickMultiplier').textContent = `${clickMultiplier}x`;
            document.getElementById('cpsDisplay').textContent = `${formatNumber(moneyPerSecond)} CPS`;
            document.getElementById('clickUpgradeCost').textContent = formatNumber(clickUpgradeCost);
            
            // Actualizar secci√≥n de cripto
            document.getElementById('userEarnings').textContent = userEarningsUSD.toFixed(2);
            document.getElementById('availableFund').textContent = availableFund.toFixed(2);
            document.getElementById('conversionRate').textContent = "10,000";
            
            // Calcular ROI promedio
            const totalInvested = gemShop.reduce((total, pack) => total + (pack.price * 0.4), 0);
            const totalPaidOut = userEarningsUSD;
            const avgROI = totalInvested > 0 ? ((totalPaidOut / totalInvested) * 100).toFixed(0) : 300;
            document.getElementById('roiValue').textContent = `${Math.max(300, avgROI)}%`;
            
            // Guardar juego
            saveGame();
        }
        
        // Formatear n√∫meros
        function formatNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return Math.floor(num);
        }
        
        // Crear efecto de part√≠culas
        function createClickEffect(e) {
            const button = document.getElementById('clickerButton');
            const rect = button.getBoundingClientRect();
            const x = rect.left + rect.width / 2;
            const y = rect.top + rect.height / 2;
            
            for (let i = 0; i < 5; i++) {
                const particle = document.createElement('div');
                particle.className = 'click-particle';
                particle.style.width = '10px';
                particle.style.height = '10px';
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.position = 'fixed';
                
                document.body.appendChild(particle);
                
                const angle = Math.random() * Math.PI * 2;
                const speed = 2 + Math.random() * 3;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed;
                
                let opacity = 1;
                const animate = () => {
                    opacity -= 0.05;
                    particle.style.opacity = opacity;
                    particle.style.transform = `translate(${vx * 10}px, ${vy * 10}px)`;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animate);
                    } else {
                        document.body.removeChild(particle);
                    }
                };
                
                requestAnimationFrame(animate);
            }
        }
        
        // Renderizar generadores
        function renderGenerators() {
            const grid = document.getElementById('generatorsGrid');
            grid.innerHTML = '';
            
            generators.forEach(gen => {
                const cost = gen.baseCost * Math.pow(1.25, gen.level);
                const production = gen.baseCPS * gen.level;
                
                let finalProduction = production;
                const generatorBoost = moneyUpgrades.find(u => u.type === "generatorBoost" && u.purchased);
                if (generatorBoost) {
                    finalProduction *= generatorBoost.value;
                }
                
                const vipGenerator = permanentGemUpgrades.find(u => u.type === "vipGenerator" && u.purchased);
                if (vipGenerator) {
                    finalProduction *= vipGenerator.value;
                }
                
                const temporalGenerator = temporalGemUpgrades.find(u => u.type === "temporalGenerator" && u.active);
                if (temporalGenerator) {
                    finalProduction *= temporalGenerator.value;
                }
                
                const card = document.createElement('div');
                card.className = `compact-card ${money >= cost ? '' : 'disabled'}`;
                card.onclick = () => buyGenerator(gen.id);
                
                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-icon"><i class="${gen.icon}"></i></div>
                        <div>
                            <div class="card-name">${gen.name}</div>
                            <div class="card-level">Nivel ${gen.level}</div>
                        </div>
                    </div>
                    <div class="card-stats">
                        <div class="card-production">+${formatNumber(finalProduction)}/s</div>
                        <div class="card-cost">${formatNumber(cost)}</div>
                    </div>
                    <div style="font-size: 0.8rem; color: #94a3b8; margin-bottom: 10px;">${gen.description}</div>
                    <button class="btn btn-success" ${money >= cost ? '' : 'disabled'}>
                        ${gen.level === 0 ? 'Comprar' : 'Mejorar'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Actualizar UI de generadores
        function updateGeneratorsUI() {
            renderGenerators();
        }
        
        // Renderizar mejoras con dinero
        function renderMoneyUpgrades() {
            const grid = document.getElementById('moneyUpgradesGrid');
            grid.innerHTML = '';
            
            moneyUpgrades.forEach(upgrade => {
                const card = document.createElement('div');
                card.className = `upgrade-card-compact ${upgrade.purchased ? 'purchased' : ''} ${money >= upgrade.cost && !upgrade.purchased ? '' : 'disabled'}`;
                card.onclick = () => buyMoneyUpgrade(upgrade.id);
                
                card.innerHTML = `
                    <div class="upgrade-header">
                        <div class="upgrade-icon"><i class="${upgrade.icon}"></i></div>
                        <div class="upgrade-title">${upgrade.name}</div>
                    </div>
                    <div style="font-size: 0.85rem; color: #cbd5e1; margin-bottom: 10px;">${upgrade.description}</div>
                    <div class="roi-container">
                        <div class="roi-label">ROI:</div>
                        <div class="roi-value positive">${upgrade.roi}x</div>
                    </div>
                    <div class="upgrade-cost">${formatNumber(upgrade.cost)} dinero</div>
                    <button class="btn ${upgrade.purchased ? 'btn-success' : 'btn-warning'}" ${money >= upgrade.cost && !upgrade.purchased ? '' : 'disabled'}>
                        ${upgrade.purchased ? '<i class="fas fa-check"></i> Comprado' : 'Comprar'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Actualizar UI de mejoras con dinero
        function updateMoneyUpgradesUI() {
            renderMoneyUpgrades();
        }
        
        // Renderizar mejoras PERMANENTES con gemas
        function renderPermanentUpgrades() {
            const grid = document.getElementById('permanentUpgradesGrid');
            grid.innerHTML = '';
            
            permanentGemUpgrades.forEach(upgrade => {
                const card = document.createElement('div');
                card.className = `upgrade-card-compact ${upgrade.purchased ? 'purchased' : ''} ${gems >= upgrade.cost && !upgrade.purchased ? '' : 'disabled'}`;
                card.onclick = () => buyPermanentUpgrade(upgrade.id);
                
                card.innerHTML = `
                    <div class="upgrade-header">
                        <div class="upgrade-icon"><i class="${upgrade.icon}"></i></div>
                        <div class="upgrade-title">${upgrade.name}</div>
                    </div>
                    <div style="font-size: 0.85rem; color: #cbd5e1; margin-bottom: 10px;">${upgrade.description}</div>
                    <div class="roi-container">
                        <div class="roi-label">ROI:</div>
                        <div class="roi-value positive">${upgrade.roi}x</div>
                    </div>
                    <div class="upgrade-cost">${upgrade.cost} gemas</div>
                    <button class="btn ${upgrade.purchased ? 'btn-success' : 'btn-premium'}" ${gems >= upgrade.cost && !upgrade.purchased ? '' : 'disabled'}>
                        ${upgrade.purchased ? '<i class="fas fa-check"></i> Comprado' : 'Comprar'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Actualizar UI de mejoras permanentes
        function updatePermanentUpgradesUI() {
            renderPermanentUpgrades();
        }
        
        // Renderizar mejoras TEMPORALES con gemas
        function renderTemporalUpgrades() {
            const grid = document.getElementById('temporalUpgradesGrid');
            grid.innerHTML = '';
            
            temporalGemUpgrades.forEach(upgrade => {
                const timeLeft = upgrade.active && upgrade.endTime ? upgrade.endTime - Date.now() : 0;
                const hoursLeft = Math.floor(timeLeft / (1000 * 60 * 60));
                const minutesLeft = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                
                const card = document.createElement('div');
                card.className = `upgrade-card-compact temporal ${upgrade.active ? 'purchased' : ''} ${gems >= upgrade.cost && !upgrade.active ? '' : 'disabled'}`;
                card.onclick = () => buyTemporalUpgrade(upgrade.id);
                
                let timerHtml = '';
                if (upgrade.active) {
                    timerHtml = `<div class="timer"><i class="fas fa-clock"></i> ${hoursLeft}h ${minutesLeft}m</div>`;
                }
                
                card.innerHTML = `
                    <div class="upgrade-header">
                        <div class="upgrade-icon temporal"><i class="${upgrade.icon}"></i></div>
                        <div class="upgrade-title">${upgrade.name}</div>
                    </div>
                    <div style="font-size: 0.85rem; color: #cbd5e1; margin-bottom: 10px;">${upgrade.description}</div>
                    <div class="roi-container">
                        <div class="roi-label">ROI:</div>
                        <div class="roi-value positive">${upgrade.roi}x</div>
                    </div>
                    ${timerHtml}
                    <div class="upgrade-cost">${upgrade.cost} gemas</div>
                    <button class="btn ${upgrade.active ? 'btn-success' : 'btn-temporal'}" ${gems >= upgrade.cost && !upgrade.active ? '' : 'disabled'}>
                        ${upgrade.active ? '<i class="fas fa-check"></i> Activo' : 'Activar (24h)'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Actualizar UI de mejoras temporales
        function updateTemporalUpgradesUI() {
            renderTemporalUpgrades();
        }
        
        // Renderizar tienda de gemas
        function renderGemShop() {
            const grid = document.getElementById('gemsShopGrid');
            grid.innerHTML = '';
            
            gemShop.forEach(pack => {
                const card = document.createElement('div');
                card.className = 'gem-card-compact';
                card.onclick = () => buyGems(pack.id);
                
                card.innerHTML = `
                    <div class="gem-icon-compact"><i class="${pack.icon}"></i></div>
                    <div class="gem-name-compact">${pack.name}</div>
                    <div style="font-size: 0.85rem; color: #cbd5e1; margin-bottom: 8px;">${pack.description}</div>
                    <div style="font-size: 1.5rem; font-weight: bold; color: var(--premium); margin: 10px 0;">${pack.gems} üíé</div>
                    <div style="font-size: 0.9rem; color: #cbd5e1; margin-bottom: 10px;">$${pack.price}</div>
                    <div class="roi-container" style="margin: 10px 0;">
                        <div class="roi-label">ROI Estimado:</div>
                        <div class="roi-value positive">$${(pack.price * pack.roi).toFixed(2)}</div>
                    </div>
                    <button class="btn btn-premium">
                        <i class="fas fa-shopping-cart"></i> Comprar
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Renderizar misiones
        function renderMissions() {
            const grid = document.getElementById('missionsGrid');
            grid.innerHTML = '';
            
            missions.forEach(mission => {
                const progress = (mission.current / mission.target) * 100;
                const isCompleted = mission.completed;
                const canClaim = !isCompleted && mission.current >= mission.target;
                
                const card = document.createElement('div');
                card.className = `mission-card ${isCompleted ? 'completed' : ''}`;
                
                card.innerHTML = `
                    <div class="mission-header">
                        <div class="mission-title">
                            <i class="${mission.icon}"></i>
                            ${mission.name}
                        </div>
                        <div class="mission-reward">
                            <i class="fas fa-gem"></i> ${mission.reward.gems}
                        </div>
                    </div>
                    <div style="font-size: 0.85rem; color: #cbd5e1; margin-bottom: 10px;">
                        ${mission.type === 'clicks' ? 'Haz ' + mission.target + ' clicks' :
                          mission.type === 'generators' ? 'Compra ' + mission.target + ' generador(es)' :
                          mission.type === 'generatorLevels' ? 'Mejora generadores ' + mission.target + ' veces' :
                          mission.type === 'money' ? 'Consigue ' + formatNumber(mission.target) + ' dinero' :
                          mission.type === 'crypto' ? 'Consigue ' + mission.target + ' BTC' :
                          mission.type === 'upgrades' ? 'Compra ' + mission.target + ' mejoras' : ''}
                    </div>
                    <div class="mission-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <div class="progress-text">
                            <span>${formatNumber(mission.current)} / ${formatNumber(mission.target)}</span>
                            <span>${progress.toFixed(1)}%</span>
                        </div>
                    </div>
                    <button class="btn ${isCompleted ? 'btn-success' : canClaim ? 'btn-premium' : 'btn-warning'}" 
                            style="margin-top: 15px;"
                            ${canClaim ? '' : 'disabled'}
                            onclick="claimMission(${mission.id})">
                        ${isCompleted ? '<i class="fas fa-check"></i> Completada' : 
                          canClaim ? '<i class="fas fa-gift"></i> Reclamar' : 
                          'En progreso'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Actualizar UI de misiones
        function updateMissionsUI() {
            renderMissions();
        }
        
        // Actualizar historial de conversiones
        function updateConversionHistory() {
            const tbody = document.getElementById('conversionHistory');
            tbody.innerHTML = '';
            
            conversionHistory.forEach(record => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${record.date}</td>
                    <td>${formatNumber(record.money)}</td>
                    <td>${record.crypto}</td>
                    <td>$${record.usdValue}</td>
                `;
                tbody.appendChild(row);
            });
        }
        
        // Configurar event listeners
        function setupEventListeners() {
            // Clicker
            document.getElementById('clickerButton').addEventListener('click', click);
            
            // Mejorar click
            document.getElementById('upgradeClicker').addEventListener('click', upgradeClick);
            
            // Convertir a cripto
            document.getElementById('convertToCrypto').addEventListener('click', convertToCrypto);
            
            // Bono diario
            document.getElementById('claimDailyBonus').addEventListener('click', claimDailyBonus);
            
            // Navegaci√≥n por tabs
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab');
                    
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                    
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }
        
        // Guardar juego
        function saveGame() {
            const gameData = {
                money,
                crypto,
                gems,
                clickPower,
                totalClicks,
                totalMoneyEarned,
                clickUpgradeCost,
                clickUpgradeLevel,
                clickMultiplier,
                userEarningsUSD,
                availableFund,
                generators,
                moneyUpgrades,
                permanentGemUpgrades,
                temporalGemUpgrades,
                missions,
                conversionHistory,
                lastBonusClaim,
                bonusStreak
            };
            
            localStorage.setItem('cryptoClickerPro', JSON.stringify(gameData));
        }
        
        // Cargar juego
        function loadGame() {
            const savedData = localStorage.getItem('cryptoClickerPro');
            
            if (savedData) {
                const gameData = JSON.parse(savedData);
                
                money = gameData.money || 0;
                crypto = gameData.crypto || 0;
                gems = gameData.gems || 0;
                clickPower = gameData.clickPower || 1;
                totalClicks = gameData.totalClicks || 0;
                totalMoneyEarned = gameData.totalMoneyEarned || 0;
                clickUpgradeCost = gameData.clickUpgradeCost || 100;
                clickUpgradeLevel = gameData.clickUpgradeLevel || 1;
                clickMultiplier = gameData.clickMultiplier || 1;
                userEarningsUSD = gameData.userEarningsUSD || 0;
                availableFund = gameData.availableFund || 1000;
                lastBonusClaim = gameData.lastBonusClaim || null;
                bonusStreak = gameData.bonusStreak || 1;
                
                if (gameData.generators) {
                    generators.forEach((gen, index) => {
                        if (gameData.generators[index]) {
                            gen.level = gameData.generators[index].level || 0;
                        }
                    });
                }
                
                if (gameData.moneyUpgrades) {
                    moneyUpgrades.forEach((upgrade, index) => {
                        if (gameData.moneyUpgrades[index]) {
                            upgrade.purchased = gameData.moneyUpgrades[index].purchased || false;
                        }
                    });
                }
                
                if (gameData.permanentGemUpgrades) {
                    permanentGemUpgrades.forEach((upgrade, index) => {
                        if (gameData.permanentGemUpgrades[index]) {
                            upgrade.purchased = gameData.permanentGemUpgrades[index].purchased || false;
                        }
                    });
                }
                
                if (gameData.temporalGemUpgrades) {
                    temporalGemUpgrades.forEach((upgrade, index) => {
                        if (gameData.temporalGemUpgrades[index]) {
                            upgrade.purchased = gameData.temporalGemUpgrades[index].purchased || false;
                            upgrade.active = gameData.temporalGemUpgrades[index].active || false;
                            upgrade.endTime = gameData.temporalGemUpgrades[index].endTime || null;
                            
                            // Si tiene endTime pero ya pas√≥
                            if (upgrade.endTime && Date.now() >= upgrade.endTime) {
                                upgrade.active = false;
                                upgrade.endTime = null;
                            }
                        }
                    });
                }
                
                if (gameData.missions) {
                    missions.forEach((mission, index) => {
                        if (gameData.missions[index]) {
                            mission.current = gameData.missions[index].current || 0;
                            mission.completed = gameData.missions[index].completed || false;
                        }
                    });
                }
                
                conversionHistory = gameData.conversionHistory || [];
                
                showNotification("Juego cargado correctamente", "success");
            } else {
                showNotification("¬°Bienvenido a Crypto Clicker Pro!", "info");
            }
        }
        
        // Iniciar el juego cuando se carga la p√°gina
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>